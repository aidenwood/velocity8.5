---
const features = [
  {
    id: 'expertise-1',
    name: 'Ad Conversion Tracking',
    description:
      'Already deeply built-in to Velocity, Google GTag Ad Conversion Tracking and Meta Pixel Conversion Tracking.',
  },
  {
    id: 'expertise-2',
    name: 'CRM & Instant Notifications',
    description:
      'User contact information is instantly send and stored in the CRM, then instantly send to your email address for improving conversion rate with faster response times.',
  },
  {
    id: 'expertise-3',
    name: 'Stripe Secure Payment',
    description:
      'Generate more sales, more easily with Velocity and Stripe. Working together out of the box so you can be selling online from day one.',
  },
  {
    id: 'expertise-4',
    name: 'ApplePay and GooglePay',
    description:
      'One-click checkout is shown to improve conversion rates across the board, we have Google Pay and Apple Pay integrated with your site straight away.',
  },
  {
    id: 'expertise-5',
    name: 'MDX-Powered Blog',
    description:
      'Write beautiful, informative blog posts with our MDX powered blogging system integrated into Velocity. One of the most flexible blogging languages for storing data, highly compatible with other blog formats for migrating old posts.',
  },
  {
    id: 'expertise-6',
    name: 'Dual Global CDN',
    description:
      'We employ the power of both Netlify CDN and Bunny CDN to create one of the most responsive network payloads possible. Delivering your website to devices from the closest possible location, everytime.',
  },
];
---

<section class="py-16 sm:py-20">
  <div class="mx-auto px-4 sm:px-6 w-full lg:max-w-7xl lg:px-8">
    <div class="grid gap-12 lg:grid-cols-3 lg:gap-8">
      <div>
        <h3 id="components" class="font-medium tracking-tight text-2xl sm:text-3xl mb-4">30+ Integrations</h3>
        <p class="text-primary-950/70 dark:text-primary-200/70 text-base sm:text-lg">
          Connect with business platforms to automate processes.
        </p>
      </div>
      <div class="lg:col-span-2">
        <dl
          class="-mt-3"
          x-data="{ selected: null, toggle(value) { this.selected = this.selected === value ? null : value } }"
        >
          {
            features.map((feature, index) => (
              <div
                class="rounded-3xl px-4 transition"
                x-data={`{ id: ${index}, get isOpen() { return this.id === this.selected }, get isNextOpen() { return (this.id + 1) === this.selected } }`}
                x-bind:class="{ 'bg-primary-500/10 dark:bg-primary-400/10': isOpen }"
              >
                <dt
                  class="border-b text-lg transition"
                  x-cloak
                  x-bind:class="{ 'border-transparent': isOpen || isNextOpen, 'border-primary-900/10 dark:border-primary-300/10': !(isOpen || isNextOpen) }"
                >
                  <button
                    type="button"
                    class="group block w-full py-6 text-left transition focus-visible:outline-none"
                    aria-controls={feature.id}
                    x-on:click="toggle(id)"
                    aria-expanded="false"
                    x-bind:aria-expanded="isOpen.toString()"
                  >
                    <div class="group-focus-visible:outline-primary-950 dark:group-focus-visible:outline-primary-200 flex items-center justify-between rounded-3xl group-focus-visible:outline group-focus-visible:outline-2 group-focus-visible:outline-offset-2">
                      <span class="text-base md:text-lg font-medium">{feature.name}</span>
                      <span class="ml-6 flex h-7 items-center">
                        <svg
                          class="text-primary-600 dark:text-primary-400 h-6 w-6 rotate-0 transform transition duration-200 ease-in-out"
                          x-bind:class="{ '-rotate-180': isOpen, 'rotate-0': !isOpen }"
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                          aria-hidden="true"
                        >
                          <path d="M11.9997 13.1714L16.9495 8.22168L18.3637 9.63589L11.9997 15.9999L5.63574 9.63589L7.04996 8.22168L11.9997 13.1714Z" />
                        </svg>
                      </span>
                    </div>
                  </button>
                </dt>
                <dd class="pb-6 pr-6" id={feature.id} x-show="isOpen" x-cloak x-collapse>
                  <p class="text-primary-950/70 dark:text-primary-200/70 text-base">
                    {feature.description}
                  </p>
                </dd>
              </div>
            ))
          }
        </dl>
      </div>
    </div>
  </div>
</section>
